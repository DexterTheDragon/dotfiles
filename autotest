# -*- ruby -*-

# require 'autotest/autoupdate'
# require 'autotest/once'
# require 'autotest/rcov'
require 'autotest/restart'
require 'autotest/timestamp'

# Autotest::AutoUpdate.sleep_time = o
# Autotest::AutoUpdate.update_cmd = o
# Autotest::RCov.command = o
# Autotest::RCov.pattern = o
module Autotest::KDENotify
  def self.knotify title, msg
    system "kdialog --title \'#{title}\' --passivepopup \'#{msg}\' 5"
  end

  Autotest.add_hook :red do |at|
    knotify "Tests failed", "#{at.files_to_test.size} tests failed"
  end
end

# vim:ft=ruby
